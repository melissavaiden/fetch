(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{29:function(e,t,n){},32:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n.n(c),a=n(24),r=n.n(a),i=n(8),j=n(7),o=n(9),l=n(4),b=(n(29),n(3)),d=n(1);function u(e){var t=e.setUser,n=e.user,s=Object(c.useState)(),a=Object(l.a)(s,2),r=a[0],j=a[1],o=Object(c.useState)(),u=Object(l.a)(o,2),O=u[0],m=u[1],h=Object(c.useState)(),f=Object(l.a)(h,2),x=f[0],g=f[1],p=Object(b.m)();return Object(c.useEffect)((function(){n.id?p("/homepage"):p("/")}),[n]),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("h1",{className:"page_title",children:"Login"}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:r,password:O})}).then((function(e){e.ok?e.json().then((function(e){return t(e)})):e.json().then((function(e){return g(e.errors)}))}))},children:[Object(d.jsx)("div",{children:x}),Object(d.jsxs)("div",{className:"form-floating",children:[Object(d.jsx)("input",{type:"username",className:"form-control",placeholder:"username",onChange:function(e){j(e.target.value)}}),Object(d.jsx)("label",{children:"Username"}),Object(d.jsx)("br",{})]}),Object(d.jsxs)("div",{className:"form-floating",children:[Object(d.jsx)("input",{type:"password",className:"form-control",placeholder:"password",onChange:function(e){m(e.target.value)}}),Object(d.jsx)("label",{className:"form-label",children:"Password"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Login"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"sign_up_container",children:[Object(d.jsx)("label",{children:"Don't have an account?"}),Object(d.jsx)("br",{}),Object(d.jsx)(i.c,{to:"/user_sign_up",children:"Sign Up"})]})})]})}var O=function(e){var t=e.dog_owner;return Object(d.jsxs)("div",{children:[Object(d.jsx)("br",{}),Object(d.jsxs)("h2",{children:["My owner's name is ",t.username,"!"]})]})};var m=function(e){var t=e.dogs.map((function(e){var t=e.tags.map((function(e){return Object(d.jsx)("li",{children:e.title},e.id)}));return Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("img",{className:"card-img-top",alt:"dog",src:e.picture_url}),Object(d.jsx)("h1",{className:"card-title",children:e.name}),Object(d.jsxs)("div",{className:"card-subtitle",children:["Age: ",e.age]}),Object(d.jsx)("div",{children:"Things I Love:"}),t,Object(d.jsx)(O,{dog_owner:e.user})]})},e.id)}));return Object(d.jsx)("div",{children:Object(d.jsx)("div",{className:"container",children:Object(d.jsx)("div",{className:"row",children:t})})})};var h=function(e){var t=e.setUser,n=Object(b.m)();return Object(d.jsx)("div",{className:"navbar navbar-expand",children:Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)(i.b,{to:"/homepage",children:"Home"}),Object(d.jsx)(i.b,{to:"/newdog",children:"Add a New Pup!"}),Object(d.jsx)(i.b,{to:"/mydogs",children:"My Pupperinos"}),Object(d.jsx)(i.b,{to:"/",onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(e){e.ok&&(t({dogs:[]}),n("/"))}))},children:"Log Out"})]})})};var f=function(e){var t=e.user,n=e.setUser,s=Object(c.useState)([]),a=Object(l.a)(s,2),r=a[0],i=a[1];return Object(c.useEffect)((function(){fetch("/dogs").then((function(e){return e.json()})).then((function(e){return i(e)}))}),[]),Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{setUser:n,user:t}),Object(d.jsxs)("h1",{children:["Hello ",t.username,"!"]}),Object(d.jsx)(m,{dogs:r})]})},x=n(6);var g=function(e){var t=e.setUser,n=Object(c.useState)(),s=Object(l.a)(n,2),a=s[0],r=s[1],j=Object(c.useState)({username:"",password:""}),u=Object(l.a)(j,2),O=u[0],m=u[1],h=Object(b.m)();function f(e){m(Object(o.a)(Object(o.a)({},O),{},Object(x.a)({},e.target.name,e.target.value)))}return Object(d.jsxs)("div",{children:[Object(d.jsx)("h1",{className:"page_title",children:"Sign Up"}),Object(d.jsxs)("div",{className:"container",children:[Object(d.jsx)("div",{children:a}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:O.username,password:O.password})}).then((function(e){e.ok?e.json().then((function(e){t(e),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:O.username,password:O.password})}).then((function(e){e.ok&&h("/homepage")}))})):e.json().then((function(e){return r(e.error)}))}))},children:[Object(d.jsxs)("div",{className:"form-floating",children:[Object(d.jsx)("input",{className:"form-control",name:"username",placeholder:"username",onChange:f}),Object(d.jsx)("label",{className:"form-label",children:"Username"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"form-floating",children:[Object(d.jsx)("input",{className:"form-control",name:"password",type:"password",placeholder:"password",onChange:f}),Object(d.jsx)("label",{className:"form-label",children:"Password"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Submit"})]}),Object(d.jsx)("div",{className:"container",children:Object(d.jsxs)("div",{className:"sign_in_container",children:[Object(d.jsx)("div",{children:"Already have an account?"}),Object(d.jsx)(i.c,{to:"/",children:"Login"})]})})]})]})};var p=function(e){var t=e.user,n=e.handleNewDog,s=Object(b.m)(),a=Object(c.useState)([]),r=Object(l.a)(a,2),i=r[0],j=r[1],u=Object(c.useState)([]),O=Object(l.a)(u,2),m=O[0],f=O[1],g=Object(c.useState)(),p=Object(l.a)(g,2),v=p[0],N=p[1],y=Object(c.useState)({user_id:t.id,picture_url:"",name:"",age:""}),S=Object(l.a)(y,2),_=S[0],w=S[1];Object(c.useEffect)((function(){fetch("/tags").then((function(e){return e.json()})).then((function(e){return j(e)}))}),[]);var C=i.map((function(e){return Object(d.jsx)("button",{className:"btn btn-outline-dark","data-bs-toggle":"button",value:e.id,id:e.id,onClick:E,children:e.title},e.id)}));function D(e){w(Object(o.a)(Object(o.a)({},_),{},Object(x.a)({},e.target.name,e.target.value)))}function E(){var e=document.getElementsByClassName("active");f(e)}return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsxs)("form",{onSubmit:function(e){e.preventDefault(),fetch("/dogs",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:_.user_id,picture_url:_.picture_url,name:_.name,age:_.age,tag_ids:m})}).then((function(e){e.ok?e.json().then((function(e){n(e),s("/homepage")})):e.json().then((function(e){return N(e.error)}))}))},children:[Object(d.jsx)("br",{}),Object(d.jsx)("div",{children:v}),Object(d.jsxs)("div",{className:"form-floating",children:[Object(d.jsx)("input",{className:"form-control",placeholder:"name",onChange:D,name:"name"}),Object(d.jsx)("label",{children:"Name"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"form-floating",children:[Object(d.jsx)("input",{className:"form-control",placeholder:"picture",onChange:D,name:"picture_url"}),Object(d.jsx)("label",{children:"Picture URL"})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"form-floating",children:[Object(d.jsx)("input",{className:"form-control",type:"number",placeholder:"age",onChange:D,name:"age"}),Object(d.jsx)("label",{children:"Age"})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{children:"What are some of your dog's favorite things?"}),C,Object(d.jsx)("button",{onClick:function(e){e.preventDefault();for(var t=[],n=0;n<m.length;n++)t.push(m[n].id);f(t),alert("Tags Added!")},children:"Add Tags"}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})]})};var v=function(e){var t=e.userDogs,n=e.handleDeleteDog,c=e.updateDog,s=Object(b.m)();function a(e){fetch("/dogs/".concat(e.target.id),{method:"DELETE"}).then((function(t){t.ok?n(parseInt(e.target.id)):console.log("Error")}))}var r=t.map((function(e){var t=e.tags.map((function(e){return Object(d.jsx)("li",{children:e.title},e.id)}));return Object(d.jsx)("div",{className:"card",children:Object(d.jsxs)("div",{className:"card-body",children:[Object(d.jsx)("img",{className:"card-img-top",alt:"dog",src:e.picture_url}),Object(d.jsx)("h1",{className:"card-title",children:e.name}),Object(d.jsx)("div",{className:"card-subtitle",children:e.age}),Object(d.jsx)("div",{children:"Things I Love:"}),t,Object(d.jsx)("button",{className:"btn btn-primary",id:e.id,onClick:function(){return function(e){s("/updateDog"),c(e)}(e)},children:"Edit"}),Object(d.jsx)("button",{className:"btn btn-primary",id:e.id,onClick:a,children:"Delete"})]})},e.id)}));return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),r]})};var N=function(e){var t=e.editDog,n=Object(c.useState)([]),s=Object(l.a)(n,2),a=s[0],r=s[1],i=Object(c.useState)([]),j=Object(l.a)(i,2),b=j[0],u=j[1],O=Object(c.useState)([]),m=Object(l.a)(O,2),f=m[0],g=m[1];Object(c.useEffect)((function(){fetch("/dogs/".concat(t.id)).then((function(e){return e.json()})).then((function(e){return console.log(e)}))}),[]),Object(c.useEffect)((function(){fetch("/tags").then((function(e){return e.json()})).then((function(e){return u(e)}))}),[]);var p=b.map((function(e){return Object(d.jsx)("button",{className:"btn btn-outline-dark","data-bs-toggle":"button",value:e.id,id:e.id,onClick:N,children:e.title},e.id)}));function v(e){r(Object(o.a)(Object(o.a)({},a),{},Object(x.a)({},e.target.name,e.target.value)))}function N(){var e=document.getElementsByClassName("active");g(e)}return Object(d.jsxs)("div",{children:[Object(d.jsx)(h,{}),Object(d.jsxs)("form",{children:[Object(d.jsx)("h1",{children:"Edit Dog"}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Name"}),Object(d.jsx)("input",{className:"form-control",placeholder:t.name,name:"name",onChange:v})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{className:"form-label",children:"Picture URL"}),Object(d.jsx)("input",{className:"form-control",placeholder:t.picture_url,name:"picture_url",onChange:v})]}),Object(d.jsx)("br",{}),Object(d.jsxs)("div",{className:"form-group",children:[Object(d.jsx)("label",{children:"Age"}),Object(d.jsx)("input",{className:"form-control",type:"number",placeholder:t.age,name:"age",onChange:v})]}),Object(d.jsx)("br",{}),Object(d.jsx)("div",{children:"What are some of your dog's favorite things?"}),p,Object(d.jsx)("br",{}),Object(d.jsx)("button",{onClick:function(e){e.preventDefault();for(var t=[],n=0;n<f.length;n++)t.push(f[n].id);g(t),alert("Tags Added!")},children:"Add Tags"}),Object(d.jsx)("br",{}),Object(d.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Submit"})]})]})};var y=function(){var e=Object(c.useState)({dogs:[]}),t=Object(l.a)(e,2),n=t[0],s=t[1],a=Object(c.useState)([]),r=Object(l.a)(a,2),i=r[0],O=r[1],m=Object(c.useState)(""),h=Object(l.a)(m,2),x=(h[0],h[1]);return Object(c.useEffect)((function(){fetch("/me").then((function(e){e.ok?e.json().then((function(e){return s(e)})):x("Error")}))}),[]),Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"display-1",id:"page_title",children:"FETCH"}),Object(d.jsxs)(b.c,{children:[Object(d.jsx)(b.a,{path:"homepage",element:Object(d.jsx)(f,{user:n,setUser:s})}),Object(d.jsx)(b.a,{path:"/",element:Object(d.jsx)(u,{setUser:s,user:n})}),Object(d.jsx)(b.a,{path:"/user_sign_up",element:Object(d.jsx)(g,{setUser:s})}),Object(d.jsx)(b.a,{path:"/newdog",element:Object(d.jsx)(p,{user:n,handleNewDog:function(e){var t=Object(o.a)(Object(o.a)({},n),{},{dogs:[].concat(Object(j.a)(n.dogs),[e])});s(t)}})}),Object(d.jsx)(b.a,{path:"/mydogs",element:Object(d.jsx)(v,{userDogs:n.dogs,handleDeleteDog:function(e){var t=n.dogs.filter((function(t){return e!==t.id})),c=Object(o.a)(Object(o.a)({},n),{},{dogs:t});s(c)},updateDog:function(e){O(e)}})}),Object(d.jsx)(b.a,{path:"/updateDog",element:Object(d.jsx)(N,{editDog:i})})]})]})};r.a.render(Object(d.jsx)(s.a.StrictMode,{children:Object(d.jsx)(i.a,{children:Object(d.jsx)(y,{})})}),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.1dd90c4d.chunk.js.map